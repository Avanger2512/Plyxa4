$steps-radius: 50px

.steps-wrap
  +md
    padding: 80px 0
    margin: 0 -40px
    overflow: auto
  +sm
    padding: 50px 0
    margin:  0 -15px

.steps
  $this: &
  margin: 50px 0 70px
  display: inline-flex
  flex-flow: row nowrap
  border-radius: $steps-radius
  width: 100%
  box-shadow: 0 2px 96px 0 rgba(#000, .25)
  +r(1024)
    margin: 0 25%
    min-width: 940px
  +sm
    margin: 25px 28px -15px 28px
    min-width: 750px
  &__item
    position: relative
    padding: 30px 60px 15px
    text-align: center
    flex-basis: 33.3%
    max-width: 33.3%
    background-image: linear-gradient(to right, #2A2049, #473C78)
    +sm
      padding-left: 30px
      padding-right: 30px
    &:first-child
      border-top-left-radius: $steps-radius
      border-bottom-left-radius: $steps-radius
    &:last-child
      border-top-right-radius: $steps-radius
      border-bottom-right-radius: $steps-radius
    &:not(:last-child)
      &:after
        content: ''
        position: absolute
        z-index: 2
        right: -27px
        top: 50%
        width: 54px
        height: 54px
        border-radius: 50%
        transform: translateY(-50%)
        background-image:  linear-gradient(102deg, #31294D, #524588)
        +sm
          width: 42px
          height: 42px
          right: -21px
      &:before
        content: ''
        position: absolute
        z-index: 3
        right: -5px
        top: 50%
        transform: translateY(-50%)
        background: url('../img/arr-right-gradient.svg')
        width: 10px
        height: 16px
        background-size: cover
    &.is-active
      background-image: linear-gradient(to right, #D975FC, #A779FF, #A2CDFF)
      box-shadow: 0 -33px 74px 0 #906BD7
      &:after
        background-image: linear-gradient(124deg, #EEBCFF, #A779FF)
      &:before
        background: url('../img/arr-right-white.svg')
      #{$this}__title
        color: #fff
  &__pic
    margin-bottom: 5px
    > img
      max-height: 61px
      +sm
        max-height: 48px
  &__title
    font-size: 18px
    color: $violet-light
    line-height: 1.2
    margin-bottom: 10px
    +sm
      font-size: 14px
  &__desc
    font-size: 16px
    color: #fff
    +sm
      font-size: 14px
  &_mod
    +r(1024)
      margin: 50px 0 70px
      min-width: auto
    +sm
      display: flex
      width: auto
      flex-flow: column nowrap
      box-shadow: none
      min-width: auto
      margin: 30px -15px 35px -15px
    .steps__item
      position: relative
      max-width: 50%
      flex-basis: 50%
      box-shadow: none
      background-position: center center
      background-size: cover
      min-height: 188px
      padding: 0
      &:after
        box-shadow: 0 17px 50px 0 #906BD7
      +sm
        max-width: 100%
        flex-basis: 100%
        min-height: 150px
        border-radius: 0
        background-size: 160%
        background-position: 50% 50%
        &:after,
        &:before
          right: auto
          top: auto
          bottom: -21px
          left: 50%
          transform: translate(-50%, 0)
        &:before
          bottom: -9px
          margin-right: 14px
          transform: translate(-50%, 0) rotate(90deg)
        &:last-child
          .steps__title
            bottom: auto
            top: 35px
    .steps__title
      position: absolute
      bottom: 25px
      left: 50%
      width: 100%
      transform: translateX(-50%)
      color: #fff
      padding: 0 20px
      +futura-b
      +sm
        font-size: 18px
